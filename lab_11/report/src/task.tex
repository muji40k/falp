\section*{Задание}

Используя хвостовую рекурсию, разработать (комментируя назначение аргументов)
эффективную программу , позволяющую:
\begin{enumerate}
    \item Найти длину списка (по верхнему уровню);
    \item Найти сумму элементов числового списка;
    \item Найти сумму элементов числового списка, стоящих на нечетных позициях
          исходного списка (нумерация от 0);
    \item Сформировать список из элементов числового списка, больших заданного
          значения;
    \item Удалить заданный элемент из списка (один или все вхождения).
    \item Объединить два списка.
\end{enumerate}

\begin{lstlisting}[language=Prolog]
domains
    list_int = integer*.

predicates
    list_len(list_int, integer).
    list_len_inner(list_int, integer, integer).

    list_sum(list_int, integer).
    list_sum_inner(list_int, integer, integer).

    list_sum_odd(list_int, integer).
    list_sum_odd_sodd(list_int, integer, integer).
    list_sum_odd_seven(list_int, integer, integer).

    reverse(list_int, list_int).
    reverse_inner(list_int, list_int, list_int).

    list_gt(list_int, integer, list_int).
    list_gt_inner(list_int, integer, list_int, list_int).

    remove(list_int, integer, list_int).
    remove_inner(list_int, integer, list_int, list_int).

    merge(list_int, list_int, list_int).
    merge_inner(list_int, list_int, list_int).

clauses
    list_len(List, Len) :- list_len_inner(List, 0, Len).
    list_len_inner([], Acc, Acc) :- !.
    list_len_inner([_ | T], Acc, Len) :- AccIn = Acc + 1,
                                         list_len_inner(T, AccIn, Len).

    list_sum(List, Sum) :- list_sum_inner(List, 0, Sum).
    list_sum_inner([], Acc, Acc) :- !.
    list_sum_inner([H | T], Acc, Sum) :- AccIn = Acc + H,
                                         list_sum_inner(T, AccIn, Sum).

    list_sum_odd(List, Sum) :- list_sum_odd_seven(List, 0, Sum).
    list_sum_odd_sodd([], Acc, Acc) :- !.
    list_sum_odd_sodd([H | T], Acc, Sum) :- AccIn = Acc + H,
                                            list_sum_odd_seven(T, AccIn,
                                                               Sum).
    list_sum_odd_seven([], Acc, Acc) :- !.
    list_sum_odd_seven([_ | T], Acc, Sum) :- list_sum_odd_sodd(T, Acc,
                                                               Sum).

    reverse(List, Res) :- reverse_inner(List, [], Res).
    reverse_inner([], Acc, Acc) :- !.
    reverse_inner([H | T], Acc, Res) :- reverse_inner(T, [H | Acc], Res).

    list_gt(List, Val, Res) :- list_gt_inner(List, Val, [], Inner),
                               reverse(Inner, Res), !.
    list_gt_inner([], _, Acc, Acc) :- !.
    list_gt_inner([H | T], Val, Acc, Res) :- Val >= H,
                                             list_gt_inner(T, Val, Acc,
                                                           Res).
    list_gt_inner([H | T], Val, Acc, Res) :- list_gt_inner(T, Val,
                                             [H | Acc], Res).

    remove(List, Val, Res) :- remove_inner(List, Val, [], Inner),
                              reverse(Inner, Res), !.
    remove_inner([], _, Acc, Acc) :- !.
    remove_inner([H | T], Val, Acc, Res) :- H = Val,
                                            remove_inner(T, Val, Acc,
                                                         Res).
    remove_inner([H | T], Val, Acc, Res) :- remove_inner(T, Val,
                                                         [H | Acc], Res).

    merge(List1, List2, Res) :- reverse(List1, List1Tmp),
                                merge_inner(List1Tmp, List2, ResRev),
                                reverse(ResRev, Res).
    merge_inner(List, [], List) :- !.
    merge_inner(List, [H | T], Res) :- merge_inner([H | List], T, Res).
\end{lstlisting}

\begin{landscape}
\scriptsize
\begin{longtable}{|c|l|l|l|}
\caption{Вопрос: list\_gt({[}-7, 9, -2, 5{]}, -1, Res)} \\
\hline
\multicolumn{1}{|l|}{№ шага} & \begin{tabular}[c]{@{}l@{}}Состояние\\ резольвенты\end{tabular}                                                                                  & \begin{tabular}[c]{@{}l@{}}Унифицируемые\\ термы\end{tabular}                                                                                                                                                              & \begin{tabular}[c]{@{}l@{}}Дальнейшие\\ действия\end{tabular}                                                                             \\ \hline
1                            & list\_gt({[}-7, 9, -2, 5{]}, -1, Res).                                                                                                           & \begin{tabular}[c]{@{}l@{}}list\_gt({[}-7, 9, -2, 5{]}, -1, Res) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                             & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
2                            & list\_gt({[}-7, 9, -2, 5{]}, -1, Res).                                                                                                           & \begin{tabular}[c]{@{}l@{}}list\_gt({[}-7, 9, -2, 5{]}, -1, Res) = list\_gt(List, Val, Res)\\ Удача\\ \{List={[}-7, 9, -2, 5{]}, Val = -1, Res = Res\}\end{tabular}                                                        & Редукция                                                                                                                                  \\ \hline
3                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                      & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                            & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
4                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                      & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Неудача\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
5                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                      & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = -7, T = {[}9, -2, 5{]}, Val = -1, Acc = {[}{]}, Inner = Res\}\end{tabular} & Редукция                                                                                                                                  \\ \hline
6                            & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= -7,\\ list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular} & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= -7\\ Удача\end{tabular}                                                                                                                                                      & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему терму резольвенты\end{tabular}                                              \\ \hline
7                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                          & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-9, -2, 5{]}, -1, {[}{]}, Inner) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                               & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
8                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                          & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-7, 9, -2, 5{]}, -1, {[}{]}, Inner) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Неудача\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
9                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                          & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = 9, T = {[}-2, 5{]}, Val = -1, Acc = {[}{]}, Inner = Res\}\end{tabular}         & Редукция                                                                                                                                  \\ \hline
10                           & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= 9,\\ list\_gt\_inner({[}-2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}     & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= 9\\ Неудача\end{tabular}                                                                                                                                                     & Откат                                                                                                                                     \\ \hline
11                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                          & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}9, -2, 5{]}, -1, {[}{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = 9, T = {[}-2, 5{]}, Val = -1, Acc = {[}{]}, Inner = Res\}\end{tabular}         & Редукция                                                                                                                                  \\ \hline
12                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                  & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
13                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Неудача\end{tabular}                                                                                 & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
14                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                            & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-2, 5{]}, -1, {[}9{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = -2, T = {[}5{]}, Val = -1, Acc = {[}9{]}, Inner = Res\}\end{tabular}             & Редукция                                                                                                                                  \\ \hline
15                           & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= -2,\\ list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}       & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= -2\\ Удача\end{tabular}                                                                                                                                                      & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему терму резольвенты\end{tabular}                                              \\ \hline
16                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                                & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}-9, -2, 5{]}, -1, {[}{]}, Inner) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                               & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
17                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                                & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Неудача\end{tabular}                                                                                     & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
18                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                                & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = 5, T = {[}{]}, Val = -1, Acc = {[}9{]}, Inner = Res\}\end{tabular}                   & Редукция                                                                                                                                  \\ \hline
19                           & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= 5,\\ list\_gt\_inner({[}{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}         & \begin{tabular}[c]{@{}l@{}}-1 \textgreater{}= 5\\ Неудача\end{tabular}                                                                                                                                                     & Откат                                                                                                                                     \\ \hline
20                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                                & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}5{]}, -1, {[}9{]}, Inner) = list\_gt\_inner({[}H | T{]}, Val, Acc, Res)\\ Удача\\ \{H = 5, T = {[}{]}, Val = -1, Acc = {[}9{]}, Inner = Res\}\end{tabular}                   & Редукция                                                                                                                                  \\ \hline
21                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}{]}, -1, {[}5, 9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                              & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}{]}, -1, {[}5, 9{]}, Inner) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                    & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
22                           & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}{]}, -1, {[}5, 9{]}, Inner),\\ reverse(Inner, Res),\\ !.\end{tabular}                              & \begin{tabular}[c]{@{}l@{}}list\_gt\_inner({[}{]}, -1, {[}5, 9{]}, Inner) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Удача\\ \{Acc = {[}5, 9{]}, Acc = Inner\}\end{tabular}                                                 & Редукция                                                                                                                                  \\ \hline
23                           & \begin{tabular}[c]{@{}l@{}}!,\\ reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                      & \begin{tabular}[c]{@{}l@{}}!\\ Удача\\ \{\}\end{tabular}                                                                                                                                                                   & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему терму резольвенты\end{tabular}                                              \\ \hline
24                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                                          & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
25                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res) = reverse(List, Res)\\ Удача\\ \{List = {[}5, 9{]}, Res = Res\}\end{tabular}                                                                                           & Редукция                                                                                                                                  \\ \hline
26                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res),\\ !\end{tabular}                                                             & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                           & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
27                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res),\\ !.\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res) = reverse\_inner({[}{]}, Acc, Acc)\\ Неудача\end{tabular}                                                                                               & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
28                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res),\\ !.\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}5, 9{]}, {[}{]}, Res) = reverse\_inner({[}H | T{]}, Acc, Res)\\ Удача\\ \{H = 5, T = {[}9{]}, Acc = {[}{]}, Res = Res\}\end{tabular}                                          & Редукция                                                                                                                                  \\ \hline
29                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res),\\ !.\end{tabular}                                                              & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                             & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
30                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res),\\ !.\end{tabular}                                                              & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res) = reverse\_inner({[}{]}, Acc, Acc)\\ Неудача\end{tabular}                                                                                                 & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
31                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res),\\ !.\end{tabular}                                                              & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}9{]}, {[}5{]}, Res) = reverse\_inner({[}H | T{]}, Acc, Res)\\ Удача\\ \{H = 9, T = {[}{]}, Acc = {[}5{]}, Res = Res\}\end{tabular}                                            & Редукция                                                                                                                                  \\ \hline
32                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}{]}, {[}9, 5{]}, Res),\\ !.\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}{]}, {[}9, 5{]}, Res) = list\_len(List, Len)\\ Неудача\end{tabular}                                                                                                           & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
33                           & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}{]}, {[}9, 5{]}, Res),\\ !.\end{tabular}                                                            & \begin{tabular}[c]{@{}l@{}}reverse\_inner({[}{]}, {[}9, 5{]}, Res) = reverse\_inner({[}{]}, Acc, Acc)\\ Удача\\ \{Acc = {[}9, 5{]}, Res = Acc\}\end{tabular}                                                               & Редукция                                                                                                                                  \\ \hline
34                           & \begin{tabular}[c]{@{}l@{}}!,\\ !.\end{tabular}                                                                                                  & \begin{tabular}[c]{@{}l@{}}!\\ Удача\\ \{\}\end{tabular}                                                                                                                                                                   & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему терму резольвенты\end{tabular}                                              \\ \hline
35                           & !.                                                                                                                                               & \begin{tabular}[c]{@{}l@{}}!\\ Удача\\ \{\}\end{tabular}                                                                                                                                                                   & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему терму резольвенты\end{tabular}                                              \\ \hline
36                           &                                                                                                                                                  &                                                                                                                                                                                                                            & \begin{tabular}[c]{@{}l@{}}Резольвента пуста.\\ Найдено решение.\\ Откат\end{tabular}                                                     \\ \hline
37                           & !.                                                                                                                                               &                                                                                                                                                                                                                            & \begin{tabular}[c]{@{}l@{}}В результате отката встречен предикат отсечения.\\ Запрет использования list\_gt.\\ Откат.\end{tabular}        \\ \hline
38                           & \begin{tabular}[c]{@{}l@{}}!,\\ !.\end{tabular}                                                                                                  &                                                                                                                                                                                                                            & \begin{tabular}[c]{@{}l@{}}В результате отката встречен предикат отсечения.\\ Запрет использования reverse\_inner.\\ Откат.\end{tabular}  \\ \hline
39                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res) = reverse\_inner({[}{]}, Acc, Acc)\\ Неудача\end{tabular}                                                                                                              & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
40                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                           & \begin{tabular}[c]{@{}l@{}}reverse({[}5, 9{]}, Res) = merge\_inner(List, {[}H | T{]}, Res)\\ Неудача\end{tabular}                                                                                                          & \begin{tabular}[c]{@{}l@{}}Откат.\\ Достигнут конец базы знаний.\end{tabular}                                                             \\ \hline
41                           & \begin{tabular}[c]{@{}l@{}}!,\\ reverse({[}5, 9{]}, Res),\\ !.\end{tabular}                                                                      &                                                                                                                                                                                                                            & \begin{tabular}[c]{@{}l@{}}В результате отката встречен предикат отсечения.\\ Запрет использования list\_gt\_inner.\\ Откат.\end{tabular} \\ \hline
42                           & list\_gt({[}-7, 9, -2, 5{]}, -1, Res).                                                                                                           & \begin{tabular}[c]{@{}l@{}}list\_gt({[}-7, 9, -2, 5{]}, -1, Res) = list\_gt\_inner({[}{]}, \_, Acc, Acc)\\ Неудача\end{tabular}                                                                                            & \begin{tabular}[c]{@{}l@{}}Прямой ход.\\ Переход к следующему знанию.\end{tabular}                                                        \\ \hline
\dots                          & \dots                                                                                                                                              & \dots                                                                                                                                                                                                                        & \dots                                                                                                                                       \\ \hline
43                           & list\_gt({[}-7, 9, -2, 5{]}, -1, Res).                                                                                                           & \begin{tabular}[c]{@{}l@{}}list\_gt({[}-7, 9, -2, 5{]}, -1, Res) = merge\_inner(List, {[}H | T{]}, Res)\\ Неудача\end{tabular}                                                                                             & \begin{tabular}[c]{@{}l@{}}Завершение работы.\\ Достигнут конец базы знаний.\end{tabular}                                                 \\ \hline
\end{longtable}
\end{landscape}

